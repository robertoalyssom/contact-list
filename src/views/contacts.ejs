<%- include("./includes/head") %>
<%- include("./includes/nav") %>

<div class="container">
    <div class="row">
        <div class="col-lg-2"></div>

        <div class="col-lg-8 my-3">
            <h1 class="display-1 text-center">Contact</h1>
            <p class="text-center lead">Create and edit your contact below.</p>

            <%- include('./includes/messages') %>

            <% if (contact._id) { %>
            <!-- in case the user already exists, point to edit -->
            <form action="/contacts/edit/<%= contact._id %>" method="POST" class="contact-form" novalidate>
                <% } else { %>
                <form action="/contacts/register" method="POST" class="contact-form" novalidate>
                    <% } %>
                    <input type="hidden" name="_csrf" value=<%= csrfToken %>>
                    <div class="mb-3">
                        <label for="fName" class="form-label">First name</label>
                        <input type="text" name="fName" class="form-control" id="fName" value="<%= contact.fName %>">
                    </div>
                    <div class=" mb-3">
                        <label for="lName" class="form-label">Last name</label>
                        <input type="text" name="lName" class="form-control" id="lName" value="<%= contact.lName %>">
                    </div>
                    <div class="mb-3">
                        <label for="email" class="form-label">Email</label>
                        <input type="email" name="email" class="form-control" id="email" value="<%= contact.email %>">
                    </div>
                    <div class="mb-3">
                        <label for="phone" class="form-label">Phone</label>
                        <input type="tel" name="phone" class="form-control" id="phone" value="<%= contact.phone %>">
                    </div>
                    <button type="submit" class="btn btn-primary">Save</button>
                </form>
        </div>

        <div class="col-lg-2"></div>
    </div>
</div>

<%- include("./includes/footer") %>